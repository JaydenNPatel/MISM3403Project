<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Memphis Grizzlies Database Project</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      line-height: 1.6;
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
    }
    .header-content {
      display: flex;
      align-items: center;       /* vertically center logo + text */
      justify-content: center;   /* center the whole block */
      gap: 1.5rem;               /* spacing between logo and text */
    }
    .logo {
      width: 100px;              /* smaller logo size */
      height: auto;
    }
    .header-text h1 {
      font-size: 2rem;
      margin: 0;
    }
    .header-text p {
      font-size: 1rem;
      opacity: 0.9;
      margin: 0.25rem 0 0;
    }
    .container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      backdrop-filter: blur(8px);
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
    }
    .section {
      margin-bottom: 2.5rem;
    }
    .section h2 {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      border-bottom: 2px solid #fff;
      padding-bottom: 0.5rem;
    }
    .section ul {
      list-style: none;
      padding-left: 0;
    }
    .section ul li {
      margin-bottom: 0.75rem;
      padding-left: 1rem;
      position: relative;
    }
    .section ul li::before {
      content: "‚Ä¢";
      position: absolute;
      left: 0;
      color: #FFD700;
    }
    img {
      max-width: 100%;
      border-radius: 12px;
      margin-top: 1rem;
    }
    .sql-toggle {
      background-color: rgba(255,255,255,0.1);
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      display: none;
      white-space: pre-wrap;
      font-family: monospace;
      font-size: 0.95rem;
      max-height: 600px;
      overflow-y: auto;
    }
    button {
      background-color: #FFD700;
      color: #000;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 1rem;
    }
    button:hover {
      background-color: #e6c200;
    }
    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      opacity: 0.7;
    }
    a {
      color: #FFD700;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>

  <header>
    <img src="images\grizzlies_logo.png" alt="Memphis Grizzlies Logo" class="logo"/>
    <h1>Memphis Grizzlies Database Project</h1>
    <p>By Daniel Vonder, Jackson Jones, Jack Linder, Evan Schrier, Jayden Patel</p>
  </header>

  <div class="container">
    <!-- Background -->
    <div class="section">
      <h2>üìò Background</h2>
      <p>The Memphis Grizzlies Database Project represents a comprehensive relational database system designed to capture and analyze the multifaceted operations of a professional NBA franchise. This project focuses on the Memphis Grizzlies, the NBA team based in Memphis, Tennessee, which was founded in 1995 and competes in the Western Conference's Southwest Division. The organization, while never having won an NBA championship, has established itself as a competitive franchise with ten playoff appearances in its history, making it a compelling subject for database analysis and business intelligence applications. </p>
      <p>The sports and entertainment industry was selected for this project due to its rich data ecosystem and the increasingly analytics-driven nature of modern professional sports organizations. NBA franchises operate as complex business entities that must balance on-court performance with revenue generation, making them ideal candidates for database modeling. The industry presents unique challenges in data management, requiring the integration of player performance metrics, injury tracking, coaching staff changes, ticket sales, merchandise revenue, and game outcomes. Furthermore, the sports industry's emphasis on data-driven decision-making, from player acquisitions to pricing strategies, mirrors contemporary business practices across multiple sectors, providing valuable insights applicable beyond athletics. </p>
      <p>This database was specifically structured to explore several key business questions and operational insights. Primary areas of investigation include revenue analysis across multiple streams, particularly examining the relationship between promotional events (such as giveaway nights) and ticket sales performance, as well as identifying top merchandise sellers to inform marketing and inventory decisions. The system enables analysis of player performance metrics to support coaching decisions and player development strategies, while also tracking injury patterns that impact roster management. Additionally, the database documents the mid-season coaching transition from Taylor Jenkins to Tuomas Iisalo in March 2025, allowing for comparative analysis of team performance under different leadership. The project aims to uncover correlations between various factors, such as opponent strength, promotional activities, and player availability, and their impact on both game outcomes and revenue generation, ultimately providing a framework for data-driven strategic planning within a professional sports organization. </p>
      <p>The sports and entertainment industry was selected for its rich data ecosystem and analytics-driven nature. NBA franchises operate as complex business entities balancing performance and revenue, requiring integration of player metrics, injuries, coaching changes, ticket sales, merchandise, and game outcomes. This project explores revenue analysis, promotional event impact, merchandise trends, player performance, injury tracking, and coaching transitions ‚Äî including the March 2025 shift from Taylor Jenkins to Tuomas Iisalo ‚Äî to support strategic planning.</p>
    </div>

    <!-- Objectives -->
    <div class="section">
      <h2>üéØ Objectives</h2>
      <ul>
        <li>Analyze revenue streams and promotional event impact</li>
        <li>Track player performance and injury patterns</li>
        <li>Support coaching decisions and roster management</li>
        <li>Compare team performance under different leadership</li>
        <li>Enable data-driven strategic planning</li>
      </ul>
    </div>

    <!-- Requirements -->
    <div class="section">
      <h2>üìã Requirements</h2>
      <ul>
        <li>Track jersey sales by player and type</li>
        <li>Link players to teams and coaches</li>
        <li>Record game outcomes and ticket sales</li>
        <li>Monitor injuries and player availability</li>
        <li>Support queries for revenue, performance, and attendance</li>
      </ul>
    </div>

    <!-- ERD -->
    <div class="section">
      <h2>üß© ERD Diagram</h2>
      <img src="images\ERD_Diagram_Grizzlies.png" alt="ERD Diagram" />
    </div>

    <!-- Schema -->
    <div class="section">
      <h2>üóÇÔ∏è Schema Design</h2>
      <img src="images\Schema_grizzlies.png" alt="Schema Design" />
    </div>

    <!-- SQL -->
    <div class="section">
      <h2>üíæ SQL File</h2>
      <p><a href="Memphis.project.code.sql" download>Download SQL File</a></p>
      <button onclick="toggleSQL()">Show SQL Code</button>
      <div id="sqlCode" class="sql-toggle">
<pre>
use neu_student_daniel_vonderwalde;

#Games  Memphis won 
select * from games where home_team_id = 1 and home_score > away_score;

#Total jersey sales per player
select count(sale_id), player_id, price, count(sale_id)*price as total_sales from jersey_sales group by player_id;

#Total ticket sales per game 
select count(ticket_sale_id), game_id, sum(total_price) from ticket_sales group by game_id;

# Total sales in giveaway night 
select sum(total_price) from ticket_sales where is_giveaway_night = 1;

# Total sales normal game
select sum(total_price) from ticket_sales where is_giveaway_night = 0;

#Total sales 
select sum(total_price) from ticket_sales;

#List all players and their team names.
SELECT r.first_name, r.last_name, t.team_name
FROM Roster r
JOIN Teams t ON r.team_id = t.team_id;

#Show all games with the home and away team names.
SELECT g.game_id, t1.team_name AS home_team, t2.team_name AS away_team, g.home_score, g.away_score
FROM Games g
JOIN Teams t1 ON g.home_team_id = t1.team_id
JOIN Teams t2 ON g.away_team_id = t2.team_id;

#Find all jersey sales with the player name.
SELECT js.sale_id, r.first_name, r.last_name, js.jersey_type, js.price
FROM Jersey_Sales js
JOIN Roster r ON js.player_id = r.player_id;

#Get all injured players and their injury status.
SELECT r.first_name, r.last_name, i.injury_description, i.status
FROM Injuries i
JOIN Roster r ON i.player_id = r.player_id;

#List each coach and their current role.
SELECT c.first_name, c.last_name, sh.role
FROM Staff_History sh
JOIN Coaches c ON sh.coach_id = c.coach_id
WHERE sh.end_date IS NULL;

#Total points scored by each player across all games.
SELECT r.first_name, r.last_name, SUM(s.points) AS total_points
FROM Stats s
JOIN Roster r ON s.player_id = r.player_id
GROUP BY r.player_id
ORDER BY total_points DESC;

#Top 5 jersey sellers (total revenue per player).
SELECT r.first_name, r.last_name, SUM(js.price) AS total_revenue
FROM Jersey_Sales js
JOIN Roster r ON js.player_id = r.player_id
GROUP BY r.player_id
ORDER BY total_revenue DESC
LIMIT 5;

#List all home games for the Grizzlies including opponent and final score.
SELECT g.game_date, t2.team_name AS opponent, g.home_score, g.away_score
FROM Games g
JOIN Teams t2 ON g.away_team_id = t2.team_id
WHERE g.home_team_id = 1;

#Average minutes, points, and rebounds by player.
SELECT r.first_name, r.last_name,
       AVG(s.minutes_played) AS avg_minutes,
       AVG(s.points) AS avg_points,
       AVG(s.rebounds) AS avg_rebounds
FROM Stats s
JOIN Roster r ON s.player_id = r.player_id
GROUP BY r.player_id;

#Find all players who scored 30+ points in any game.
SELECT DISTINCT r.first_name, r.last_name
FROM Stats s
JOIN Roster r ON s.player_id = r.player_id
WHERE s.points >= 30;

#Total ticket revenue per home game + opponent name.
SELECT g.game_id, t2.team_name AS opponent,
       SUM(ts.total_price) AS total_revenue
FROM Ticket_Sales ts
JOIN Games g ON ts.game_id = g.game_id
JOIN Teams t2 ON g.away_team_id = t2.team_id
WHERE g.home_team_id = 1
GROUP BY g.game_id;

#Which jersey type (Home, Away, City, Classic) generates the most revenue?
SELECT jersey_type,
       SUM(price) AS total_revenue
FROM Jersey_Sales
GROUP BY jersey_type
ORDER BY total_revenue DESC;

#What percentage of total ticket revenue comes from premium sections (Floor + lower bowl)?
SELECT 
    SUM(CASE WHEN section LIKE 'Floor' OR section LIKE '1%' THEN total_price ELSE 0 END) * 100.0
    / SUM(total_price) AS premium_percentage
FROM Ticket_Sales;

#Which home games had the highest average ticket purchase size (revenue per ticket)?
SELECT g.game_id, g.game_date,
       SUM(ts.total_price) / SUM(ts.quantity) AS avg_ticket_price
FROM Ticket_Sales ts 
JOIN Games g ON ts.game_id = g.game_id
WHERE g.home_team_id = 1
GROUP BY g.game_id
ORDER BY avg_ticket_price DESC;

#Identify the most profitable day for the organization combining jersey sales + ticket sales.
SELECT date_value,
       SUM(jersey_sales) AS jersey_revenue,
       SUM(ticket_sales) AS ticket_revenue,
       SUM(jersey_sales + ticket_sales) AS total_revenue
FROM (
    SELECT transaction_date AS date_value, price AS jersey_sales, 0 AS ticket_sales
    FROM Jersey_Sales
    UNION ALL
    SELECT purchase_date, 0, total_price
    FROM Ticket_Sales
) combined
GROUP BY date_value
ORDER BY total_revenue DESC;

#View: Games Memphis won
CREATE VIEW MemphisWins AS
SELECT * FROM Games
WHERE home_team_id = 1 AND home_score > away_score;

SELECT * FROM MemphisWins;

# View: Total jersey sales per player
CREATE VIEW JerseySalesPerPlayer AS
SELECT r.first_name, r.last_name,
       COUNT(js.sale_id) AS jerseys_sold,
       SUM(js.price) AS total_revenue
FROM Jersey_Sales js
JOIN Roster r ON js.player_id = r.player_id
GROUP BY r.player_id;


SELECT * FROM JerseySalesPerPlayer ORDER BY total_revenue DESC;

DELIMITER $$

CREATE TRIGGER update_daily_revenue_ticket
AFTER INSERT ON Ticket_Sales
FOR EACH ROW
BEGIN
  UPDATE Daily_Revenue
  SET ticket_revenue = ticket_revenue + NEW.total_price
  WHERE date_value = NEW.purchase_date;
END$$

DELIMITER ;


DELIMITER $$

CREATE PROCEDURE GetTopJerseySellers()
BEGIN
  SELECT r.first_name, r.last_name, 
         COUNT(js.sale_id) AS jerseys_sold,
         SUM(js.price) AS total_revenue
  FROM Jersey_Sales js
  JOIN Roster r ON js.player_id = r.player_id
  GROUP BY r.player_id, r.first_name, r.last_name
  ORDER BY total_revenue DESC
  LIMIT 5;
END$$

DELIMITER ;
</pre>
      </div>
      <!-- Visualizations -->
<div class="section">
  <h2>üìä Visualizations</h2>
  <p>These charts provide strategic insights into merchandise trends, ticketing behavior, and revenue optimization for the Memphis Grizzlies.</p>

  <h3>üéΩ Top 5 Jersey Sellers</h3>
  <p>Which players generate the most merchandise revenue through jersey sales?</p>
  <img src="visualizations/top5_jersey_sellers.png" alt="Top 5 Jersey Sellers" width="500" align="center"/>

  <h3>üß¢ Jersey Revenue by Type</h3>
  <p>Which jersey styles (Home, Away, City, Classic) drive the most revenue?</p>
  <img src="visualizations/jersey_revenue_by_type.png" alt="Jersey Revenue by Type" width="500" align="center"/>

  <h3>üëï Jersey Sales per Player</h3>
  <p>How many jerseys has each player sold, and how much revenue have they generated?</p>
  <img src="visualizations/jersey_sales_per_player.png" alt="Jersey Sales per Player" width="500" align="center"/>

  <h3>üéüÔ∏è Ticket Sales by Game Date</h3>
  <p>How does ticket revenue vary across different game dates?</p>
  <img src="visualizations/ticket_sales_by_game_date.png" alt="Ticket Sales by Game Date" width="500" align="center"/>

  <h3>üèüÔ∏è Ticket Sales by Section</h3>
  <p>Which seating sections (Floor, Lower Bowl, Upper Bowl) contribute most to ticket revenue?</p>
  <img src="visualizations/ticket_sales_by_section.png" alt="Ticket Sales by Section" width="500" align="center"/>

  <h3>üéÅ Giveaway Nights vs Normal Games</h3>
  <p>Do promotional giveaway nights lead to higher ticket revenue compared to regular games?</p>
  <img src="visualizations/giveaway_vs_non.png" alt="Giveaway vs Non-Giveaway Games" width="500" align="center"/>
</div>

    </div>
  </div>
  

  <footer>
    ¬© 2025 Daniel Vonder, Jackson Jones, Jack Linder, Evan Schrier, Jayden Patel
  </footer>

  <script>
    function toggleSQL() {
      const sqlDiv = document.getElementById("sqlCode");
      sqlDiv.style.display = sqlDiv.style.display === "none" ? "block" : "none";
    }
  </script>

</body>
</html>
